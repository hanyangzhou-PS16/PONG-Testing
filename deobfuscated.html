<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pong</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap">
    <style>
body {
    margin: 0;
    overflow: hidden;
    background-color: #176785;
}

p {
    font-size: 18px;
}

.randomEvent {
    top: 24%;
    left: 50%;
    font-size: 28px;
    color: #ff3b30;
    padding: 20px;
    z-index: 100;
}

#startMenu {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #176785;
}

#startMenu .title {
    font-size: 48px;
    color: #ffffff;
    margin-bottom: 20px;
}

#startMenu .button-container {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
}

button {
    padding: 12px 24px;
    font-size: 18px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s;
}

button:hover {
    background-color: #45a049;
}

canvas {
    display: block;
    margin: 0 auto;
    border: 28px solid #000000;
    background-color: #000000;
    box-sizing: border-box;
    z-index: 1;
}

#scoreboard {
    position: absolute;
    top: 10%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    align-items: center;
}

#player1Score {
    font-size: 24px;
    color: #45aee6;
    margin: 0 10px;
}

#player2Score {
    font-size: 24px;
    color: #e65045;
    margin: 0 10px;
}

#gameResult {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    font-size: 24px;
}
</style>
</head>
<body>
    <div id="startMenu">
        <h1 id="title" class="title"></h1>
        <div class="button-container">
            <button id="startButton">Start</button>
            <button id="controlsButton">Controls</button>
        </div>
    </div>

    <div id="controlsPage" style="display: none;">
        <h1>Controls</h1>
        <p>Player 1: W + S, Player 2: ArrowUp + Arrow Down</p>
        <button id="backButton">Back</button>
    </div>

    <div id="gamemodeMenu" style="display: none;">
        <h1>Choose a gamemode</h1>
        <div class="button-container">
            <button id="singleButton">Singleplayer</button>
            <button id="multiButton">Multiplayer</button>
        </div>
    </div>

    <div id="difficultyMenu" style="display: none;">
        <h1>Choose a difficulty</h1>
        <div class="button-container">
            <button id="easyButton">Easy</button>
            <button id="mediumButton">Medium</button>
            <button id="hardButton">Hard</button>
            <button id="impossibleButton">Impossible</button>
        </div>
    </div>

    <canvas id="pongCanvas" style="display: none;"></canvas>
    <div id="eventText" class="randomEvent" style="position: absolute; transform: translate(-50%, -50%); display: none;"></div>

    <div id="scoreboard">
        <p id="player1Score" style="font-size: 24px;">0</p>
        <p style="color: #ffffff; font-size: 24px;">-</p>
        <p id="player2Score" style="font-size: 24px;">0</p>
    </div>

    <div id="gameResult" style="display: none;"></div>

    <script>
        let cap=(f,w)=>{if(!Math['sign'](w)===-0x1){!!Math['abs'](f)>w&&(f=w);;return f;}else{f>w&&(f=w);;return f;}},getPong=()=>{const s=0x1d,n=0x123,k=0x3f,o=0x2f;var x=s+n-k+o;document['getElementById']('title')['textContent']='Super\x20Glitchy\x20Pong\x20(v1.1)';var y=s-n+k-o;},startMenu=document['getElementById']('startMenu'),controlsPage=document['getElementById']('controlsPage'),gamemodeMenu=document['getElementById']('gamemodeMenu'),difficultyMenu=document['getElementById']('difficultyMenu'),canvas=document['getElementById']('pongCanvas'),ctx=canvas['getContext']('2d'),keysPressed={},AIConfiguration={'speed':0x0,'reactionTime':0x3e8},player1,player2,ball,drawInterval,eventInterval,oldSpeedX,oldSpeedY,AIMovementDelayed=![],AI=![];showStartMenu(),document['getElementById']('startButton')['addEventListener']('click',()=>{hideStartMenu(),showGamemodeMenu();}),document['getElementById']('controlsButton')['addEventListener']('click',()=>{hideStartMenu(),showControlsPage();}),document['getElementById']('backButton')['addEventListener']('click',()=>{showStartMenu(),hideControlsPage();}),document['getElementById']('singleButton')['addEventListener']('click',()=>{hideGamemodeMenu(),showDifficultyMenu(),AI=!![];}),document['getElementById']('multiButton')['addEventListener']('click',()=>{hideGamemodeMenu(),startGame();}),document['getElementById']('easyButton')['addEventListener']('click',()=>{AI==!![]&&(AIConfiguration['speed']=0x6,AIConfiguration['reactionTime']=0x7d0,startGame());}),document['getElementById']('mediumButton')['addEventListener']('click',()=>{AI==!![]&&(AIConfiguration['speed']=0x8,AIConfiguration['reactionTime']=0x3e8,startGame());}),document['getElementById']('hardButton')['addEventListener']('click',()=>{AI==!![]&&(AIConfiguration['speed']=0xa,AIConfiguration['reactionTime']=0x1f4,startGame());}),document['getElementById']('impossibleButton')['addEventListener']('click',()=>{AI==!![]&&(AIConfiguration['speed']=0xc,AIConfiguration['reactionTime']=0x12c,startGame());});function moveAI(){if(AI==!![]){const e=player2['y']+player2['height']/0x2;if(ball['y']<e-AIConfiguration['speed'])player2['y']-=AIConfiguration['speed'];else ball['y']>e+AIConfiguration['speed']&&(player2['y']+=AIConfiguration['speed']);player2['y']=Math['max'](0x0,Math['min'](canvas['height']-player2['height'],player2['y']));}}function showStartMenu(){startMenu['style']['display']='flex',controlsPage['style']['display']='none',gamemodeMenu['style']['display']='none',canvas['style']['display']='none';}function hideStartMenu(){startMenu['style']['display']='none';}function showControlsPage(){controlsPage['style']['display']='block';}function hideControlsPage(){controlsPage['style']['display']='none';}function showGameCanvas(){canvas['style']['display']='block';}function hideGameCanvas(){canvas['style']['display']='none';}function showGamemodeMenu(){gamemodeMenu['style']['display']='block';}function hideGamemodeMenu(){gamemodeMenu['style']['display']='none';}function showDifficultyMenu(){difficultyMenu['style']['display']='block';}function hideDifficultyMenu(){difficultyMenu['style']['display']='none';}function resizeCanvas(){canvas['width']=window['innerWidth']-0x1c,canvas['height']=window['innerHeight']-0x1c;}function increaseBallSpeed(){Math['abs'](ball['speedX'])<ball['maxSpeed']?ball['speedX']+=ball['speedIncrement']*Math['sign'](ball['speedX']):ball['speedX']=ball['maxSpeed'],Math['abs'](ball['speedY'])<ball['maxSpeed']?ball['speedY']+=ball['speedIncrement']*Math['sign'](ball['speedY']):ball['speedX']=ball['maxSpeed'];}function resetBall(){ball['x']=canvas['width']/0x2,ball['y']=canvas['height']/0x2,ball['speedX']=0x5,ball['speedY']=0x5;}function keyDownHandler(m){keysPressed[m['key']]=!![];}function keyUpHandler(p){keysPressed[p['key']]=![];}function drawPaddle(j,l,h,d){ctx['fillStyle']=h,ctx['fillRect'](j,l,0x19,d);}function checkPaddleCollision(q,i){var v=q['x']-q['radius'],g=q['x']+q['radius'],u=q['y']-q['radius'],z=q['y']+q['radius'],b=i['x'],a=i['x']+0x19,t=i['y'],c=i['y']+i['height'],r=g>b&&v<a,E=z>t&&u<c;return r&&E;}function handleRandomEvent(){const J=Math['round'](Math['random']()*0xf);var Q='';switch(J){case 0x0:var D=setInterval(()=>{ball['speedX']=-ball['speedX'],ball['speedY']=-ball['speedY'];},Math['round'](Math['random']()*0x7d0+0x1));setTimeout(()=>{clearInterval(D);},0x1f40),Q='Directional\x20Ball';break;case 0x1:ball['speedX']=Math['floor'](ball['speedX']/0x2),ball['speedY']=Math['floor'](ball['speedY']/0x2),Q='Calming\x20Ball';break;case 0x2:ball['speedX']*=0x2,ball['speedY']*=0x2,ball['speedX']=cap(ball['speedX'],ball['maxSpeed']),ball['speedY']=cap(ball['speedY'],ball['maxSpeed']),Q='Raging\x20Ball';break;case 0x3:player1['height']+=0x50,player2['height']+=0x50,setTimeout(()=>{player1['height']-=0x50,player2['height']-=0x50;},0x1388),Q='Large\x20Paddles';break;case 0x4:player1['height']-=0x50,player2['height']-=0x50,setTimeout(()=>{player1['height']+=0x50,player2['height']+=0x50;},0x1388),Q='Small\x20Paddles';break;case 0x5:ball['color']='#7dcbff',oldSpeedX=ball['speedX'],oldSpeedY=ball['speedY'],ball['speedX']=0x0,ball['speedY']=0x0,setTimeout(()=>{ball['color']='white',ball['speedX']=oldSpeedX,ball['speedY']=oldSpeedY;},0x1388),Q='Frozen\x20Ball';break;case 0x6:ball['speedX']=-ball['speedX'],ball['speedY']=-ball['speedY'],Q='Telekinesis\x20Ball';break;case 0x7:oldX=ball['x'],oldY=ball['y'],ball['color']='#527ffa',setTimeout(()=>{ball['x']=oldX,ball['y']=oldY,ball['color']='white';},0x1388),Q='Teleportation\x20Ball';break;case 0x8:oldSpeedX=ball['speedX'],oldSpeedY=ball['speedY'],ball['color']='#ff7569',setTimeout(()=>{ball['color']='white',ball['speedX']*=0x2,ball['speedY']*=0x2,ball['speedX']=cap(ball['speedX'],ball['maxSpeed']),ball['speedY']=cap(ball['speedY'],ball['maxSpeed']),setTimeout(()=>{ball['speedX']=oldSpeedX,ball['speedY']=oldSpeedY;},0x7d0);},0xbb8),Q='Jumpscare\x20Ball';break;case 0x9:ball['color']='black';var N=setInterval(()=>{if(ball['color']=='white')ball['color']='black';else ball['color']=='black'&&(ball['color']='white');},0x3e8);setTimeout(()=>{clearInterval(N),ball['color']='white';},0x1f40),Q='Blinking\x20Ball';break;case 0xa:player1['height']+=0xa0,player2['height']+=0xa0,setTimeout(()=>{player1['height']-=0xa0,player2['height']-=0xa0;},0x1388),Q='Gigantic\x20Paddles';break;case 0xb:oldPlayer1Color=player1['color'],oldPlayer2Color=player2['color'],player1['color']='black',player2['color']='black';var O=setInterval(()=>{if(player1['color']=='black')player1['color']=oldPlayer1Color,player2['color']=oldPlayer2Color;else player1['color']==oldPlayer1Color&&(player1['color']='black',player2['color']='black');},0x3e8);setTimeout(()=>{clearInterval(O),player1['color']=oldPlayer1Color,player2['color']=oldPlayer2Color;},0x1f40),Q='Blinking\x20Paddles';break;case 0xc:oldUp1=player1['up'],oldDown1=player1['down'],oldUp2=player2['up'],oldDown2=player2['down'],player1['up']=oldDown1,player1['down']=oldUp1,player2['up']=oldDown2,player2['down']=oldUp2,setTimeout(()=>{player1['up']=oldUp1,player1['down']=oldDown1,player2['up']=oldUp2,player2['down']=oldDown2;},0x1388),Q='Reversed\x20Controls';break;case 0xd:oldSpeed1=player1['speed'],oldSpeed2=player2['speed'],player1['speed']*=0x2,player2['speed']*=0x2,setTimeout(()=>{player1['speed']=oldSpeed1,player2['speed']=oldSpeed2;},0x1388),Q='Fast\x20Paddles';break;case 0xe:oldSpeed1=player1['speed'],oldSpeed2=player2['speed'],player1['speed']/=0x2,player2['speed']/=0x2,setTimeout(()=>{player1['speed']=oldSpeed1,player2['speed']=oldSpeed2;},0x1388),Q='Slow\x20Paddles';break;case 0xf:ball['color']='black',setTimeout(()=>{ball['color']='white';},0x1388),Q='Invisible\x20Ball';break;}const T=document['getElementById']('eventText');T['textContent']=Q,T['style']['display']='block',setTimeout(()=>{T['style']['display']='none';},0x5dc);}function draw(){ctx['clearRect'](0x0,0x0,canvas['width'],canvas['height']),ctx['beginPath'](),ctx['arc'](ball['x'],ball['y'],ball['radius'],0x0,Math['PI']*0x2),ctx['fillStyle']=ball['color'],ctx['fill'](),ctx['closePath'](),drawPaddle(player1['x'],player1['y'],player1['color'],player1['height']),drawPaddle(player2['x'],player2['y'],player2['color'],player2['height']),ball['x']+=ball['speedX'],ball['y']+=ball['speedY'];(ball['y']+ball['radius']>=canvas['height']||ball['y']-ball['radius']<=0x0)&&(ball['speedY']=-ball['speedY']);checkPaddleCollision(ball,player1)&&(ball['x']=player1['x']+0x19+ball['radius'],ball['speedX']=Math['abs'](ball['speedX']),increaseBallSpeed(),AI==!![]&&(AIMovementDelayed==![]&&(AIMovementDelayed=!![],setTimeout(()=>{AIMovementDelayed=![];},AIConfiguration['reactionTime']))));checkPaddleCollision(ball,player2)&&(ball['x']=player2['x']-ball['radius'],ball['speedX']=-Math['abs'](ball['speedX']),increaseBallSpeed(),AI==!![]&&(AIMovementDelayed==![]&&(AIMovementDelayed=!![],setTimeout(()=>{AIMovementDelayed=![];},AIConfiguration['reactionTime']))));if(ball['x']-ball['radius']<0x0){player2['score']++;var V=document['getElementById']('player2Score');V&&(V['textContent']=player2['score']),player2['score']>=0x5?endGame(0x2):resetBall();}else{if(ball['x']+ball['radius']>canvas['width']){player1['score']++;var G=document['getElementById']('player1Score');G&&(G['textContent']=player1['score']),player1['score']>=0x5?endGame(0x1):resetBall();}}keysPressed[player1['up']]&&(player1['y']-=player1['speed'],player1['y']=Math['max'](0x0,player1['y']));keysPressed[player1['down']]&&(player1['y']+=player1['speed'],player1['y']=Math['min'](canvas['height']-player1['height'],player1['y']));if(AI==![])keysPressed[player2['up']]&&(player2['y']-=player2['speed'],player2['y']=Math['max'](0x0,player2['y'])),keysPressed[player2['down']]&&(player2['y']+=player2['speed'],player2['y']=Math['min'](canvas['height']-player2['height'],player2['y']));else AIMovementDelayed==![]&&moveAI();}window['addEventListener']('resize',()=>{resizeCanvas(),draw();}),resizeCanvas();function startGame(K){hideStartMenu(),hideGamemodeMenu(),hideControlsPage(),hideDifficultyMenu(),showGameCanvas(),player1={'x':0x78,'y':canvas['height']/0x2-0xb9/0x2,'dy':0x0,'speed':0x8,'height':0xb9,'color':'#45aee6','up':'w','down':'s','score':0x0},player2={'x':canvas['width']-0x78,'y':canvas['height']/0x2-0xb9/0x2,'dy':0x0,'speed':0x8,'height':0xb9,'color':'#e65045','up':'ArrowUp','down':'ArrowDown','score':0x0},ball={'x':canvas['width']/0x2,'y':canvas['height']/0x2,'radius':0xf,'speedX':0x5,'speedY':0x5,'maxSpeed':0xa,'speedIncrement':0x1,'color':'white'},document['addEventListener']('keydown',keyDownHandler,![]),document['addEventListener']('keyup',keyUpHandler,![]),draw(),drawInterval=setInterval(draw,0x3e8/0x3c),eventInterval=setInterval(handleRandomEvent,0x2710);}function endGame(A){clearInterval(drawInterval),clearInterval(eventInterval);const R=document['createElement']('p');R['textContent']='Player\x20'+A+'\x20won!\x20Congrats!\x20Do\x20you\x20want\x20to\x20play\x20this\x20game\x20again?';const L=document['createElement']('button');L['textContent']='Play\x20Again',L['addEventListener']('click',()=>{location['reload']();});const W=document['getElementById']('gameResult');W['appendChild'](R),W['appendChild'](L),W['style']['display']='block',canvas['style']['display']='none';}getPong();
    </script>
</body>
</html>
