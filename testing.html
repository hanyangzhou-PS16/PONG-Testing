<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conway's Game of Life</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
        }
        
        canvas {
            border: 1px solid #000;
        }
        
        button {
            margin: 5px;
        }

    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>
    <button id="startBtn">Start</button>
    <button id="stopBtn">Stop</button>
    <button id="clearBtn">Clear</button>
        <script>
                const canvas = document.getElementById('gameCanvas');
                const ctx = canvas.getContext('2d');
                
                const gridSize = 50; // Number of cells
                const cellSize = 10; // Size of each cell in pixels
                canvas.width = gridSize * cellSize;
                canvas.height = gridSize * cellSize;
                
                let grid = Array.from({ length: gridSize }, () => Array(gridSize).fill(0));
                let intervalId = null;
                
                function draw() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    for (let row = 0; row < gridSize; row++) {
                        for (let col = 0; col < gridSize; col++) {
                            ctx.fillStyle = grid[row][col] ? '#000' : '#fff';
                            ctx.fillRect(col * cellSize, row * cellSize, cellSize, cellSize);
                            ctx.strokeRect(col * cellSize, row * cellSize, cellSize, cellSize);
                        }
                    }
                }
                
                canvas.addEventListener('click', (event) => {
                    const rect = canvas.getBoundingClientRect();
                    const x = Math.floor((event.clientX - rect.left) / cellSize);
                    const y = Math.floor((event.clientY - rect.top) / cellSize);
                    grid[y][x] = grid[y][x] ? 0 : 1; // Toggle cell state
                    draw();
                });
                
                function updateGrid() {
                    const newGrid = grid.map(arr => [...arr]);
                    for (let row = 0; row < gridSize; row++) {
                        for (let col = 0; col < gridSize; col++) {
                            const aliveNeighbors = countAliveNeighbors(row, col);
                            if (grid[row][col] === 1) {
                                newGrid[row][col] = aliveNeighbors === 2 || aliveNeighbors === 3 ? 1 : 0;
                            } else {
                                newGrid[row][col] = aliveNeighbors === 3 ? 1 : 0;
                            }
                        }
                    }
                    grid = newGrid;
                    draw();
                }
                
                function countAliveNeighbors(row, col) {
                    const directions = [
                        [-1, -1], [-1, 0], [-1, 1],
                        [0, -1],           [0, 1],
                        [1, -1], [1, 0], [1, 1],
                    ];
                    let count = 0;
                    for (const [dx, dy] of directions) {
                        const newRow = row + dx;
                        const newCol = col + dy;
                        if (newRow >= 0 && newRow < gridSize && newCol >= 0 && newCol < gridSize) {
                            count += grid[newRow][newCol];
                        }
                    }
                    return count;
                }
                
                document.getElementById('startBtn').addEventListener('click', () => {
                    if (!intervalId) {
                        intervalId = setInterval(updateGrid, 300);
                    }
                });
                
                document.getElementById('stopBtn').addEventListener('click', () => {
                    clearInterval(intervalId);
                    intervalId = null;
                });
                
                document.getElementById('clearBtn').addEventListener('click', () => {
                    grid = Array.from({ length: gridSize }, () => Array(gridSize).fill(0));
                    draw();
                });
                
                draw();
        </script>
</body>
</html>
